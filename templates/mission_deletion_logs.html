{% extends "base.html" %}
{% from "macros.html" import guide_card, empty_state %}
{% block content %}
<h1>삭제된 미션 로그</h1>
<a href="/missions" class="nav-btn mb-4">미션 목록으로 돌아가기</a>

{{ guide_card("Audit Log", "삭제 이력 감사",
    "삭제된 미션의 상세 정보와 삭제 사유를 조회하여 데이터 복구 요청 대응이나 운영 감사에 활용합니다.",
    [
        {"title": "이력 조회", "desc": "삭제된 미션의 일시·사유·대상 사용자를 확인합니다."},
        {"title": "감사 활용", "desc": "데이터 복구 요청 또는 운영 감사 시 참고 자료로 사용합니다."}
    ]) }}

<div class="table-wrapper">
    <table class="w-full">
        <thead><tr>
            <th>Log ID</th>
            <th>Mission ID</th>
            <th>User ID</th>
            <th>미션 제목</th>
            <th>유형</th>
            <th>삭제 전 상태</th>
            <th>포인트</th>
            <th>삭제 사유</th>
            <th>삭제자</th>
            <th>삭제 일시</th>
        </tr></thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <td>{{ log.log_id }}</td>
                <td>{{ log.mission_id }}</td>
                <td>{{ log.user_id }}</td>
                <td class="font-bold">{{ log.mission_title }}</td>
                <td><span class="badge badge-neutral">{{ log.mission_type }}</span></td>
                <td>{{ log.status }}</td>
                <td>{{ log.reward_points }}</td>
                <td class="text-danger">{{ log.delete_reason }}</td>
                <td>{{ log.admin_id }}</td>
                <td>{{ log.deleted_at }}</td>
            </tr>
            {% else %}
            {{ empty_state(10, "삭제 로그가 없습니다.") }}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}